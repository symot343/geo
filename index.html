<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>åœ°ç†ã‚’æ¥µã‚ã‚ˆã†</title>
    <link rel="stylesheet" href="geo.css">
</head>
<body>
<h1>ã‚±ãƒƒãƒšãƒ³ã‚¯ã‚¤ã‚º</h1>
<div class="explanation">
<details open>
    <p>Startãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ä¸‹ã®ç™½åœ°å›³ä¸Šã«ãƒ”ãƒ³ğŸ“ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
        <br>é¸æŠè‚¢ã®ä¸­ã‹ã‚‰ãã®åœ°ç‚¹ã®æ°—å€™åŒºåˆ†ã‚’å½“ã¦ã¦ãã ã•ã„ã€‚
    </p>
    <p>ãƒ«ãƒ¼ãƒ«
        <br>ãƒ»é€£ç¶šæ­£è§£æ•°ã‚’ç«¶ã„ã¾ã™ã€‚
        <br>ãƒ»æ°—å€™æƒ…å ±ã¯ä»¥ä¸‹ã®ã‚µã‚¤ãƒˆæ²è¼‰ã®åœ°å›³ã‚’åŸºã«ã—ã¦ã„ã¾ã™ã€‚
        <br>å‚ç…§
    </p>
</details>
</div>

<div>
<input type="button" id="start" value="Start" 
style="width:64px;height:32px;bottom:5px;position:relative">
<script>
    function startButtonClick(){
        alert("é‹­æ„è£½ä½œä¸­ã€ã‚‚ã†å°‘ã—å¾…ã£ã¦ã¦ã­")
    }
    let startButton = document.getElementById("start")
    startButton.onclick = startButtonClick;
</script>
</div>

<div>
    <p id="score">Score=0</p>
</div>

<div>
    <p id="problem">ç¬¬0å•</p>
</div>

<div class="map">
<img class="world" src="world.jpg" id="map">
<img class="absolute" src="pin.png" id="pin">
</div>

<div class="next_button">
    <input type="button" id="start" value="Next" 
    style="width:64px;height:32px;bottom:5px;position:relative">
</div>

<div>
    <p>ã€é¸æŠè‚¢ã€‘</p>
</div>


<div class="answer_button">
<input type="button" id="choice1" class="choice" value="Aw">
<input type="button" id="choice2" class="choice" value="Cs">
<input type="button" id="choice3" class="choice" value="ET">
<input type="button" id="choice4" class="choice" value="BW">
<input type="button" id="choice5" class="choice" value="Df">
</div>

<script>
    //æ­£è§£ã®æ°—å€™ã‚’æ±‚ã‚ã‚‹
    let answer_c = "Cs";
    //é¸æŠè‚¢ã«è‰²ã‚’å¡—ã‚‹
    function color_button(id,c){
        c_c = {
            "Af":[252,76,76,1],
            "Am":[249,142,136,0],
            "Aw":[254,204,201,0],
            "BW":[211,182,119,0],
            "BS":[253,253,135,0],
            "Cs":[252,165,34,0],
            "Cw":[212,237,60,0],
            "Cfa":[165,255,1,0],
            "Cfb":[17,208,78,0],
            "Df":[229,184,220,0],
            "Dw":[160,96,183,1],
            "ET":[154,215,218,0],
            "EF":[64,183,239,1]
        }
        let b = document.getElementById(id);
        let color = "rgb(" + c_c[c][0] + "," + c_c[c][1] + "," + c_c[c][2] + ")";
        b.style.backgroundColor = color;
        b.value = c;
        if (c_c[c][3]){
            b.style.color = "white";
        }else{
            b.style.color = "black";
        }
    };
    let climate_l = ["Af","Am","Aw","BW","BS","Cs","Cw","Cfa","Cfb","Df","Dw","ET","EF"]
    let c_n = { "Af":0, "Am":1, "Aw":2, "BW":3, "BS":4, "Cs":5, "Cw":6, "Cfa":7, 
    "Cfb":8, "Df":9, "Dw":10, "ET":11, "EF":12 }
    console.log(`answer is ${answer_c}, ${c_n[answer_c]}.`)
    //ä¹±æ•°ï¼”ã¤ã¨æ­£è§£ï¼‘ã¤ã‚’æ··ãœã‚‹ã‚“ã 
    let nl = [0,1,2,3,4,5,6,7,8,9,10,11,12];
    //æ­£è§£ã¯æ¶ˆã—ã¦ãŠã
    nl.splice(c_n[answer_c],1);
    let rn = [0,0,0,0];
    for (let i=0;i<=3;i++){
        let num = Math.floor(Math.random()*(12-i));
        rn[i] = nl[num];
        nl.splice(num,1);
    }
    rn.push(c_n[answer_c]);
    let start = Math.floor(Math.random() * 6);
    let choice_l = [];
    for (let i=0;i<=4;i++){
        choice_l.push(rn[(start+i)%5]);
    }
    console.log(choice_l);

    //è‰²å¡—ã‚Šé–‹å§‹
    color_button("choice1",climate_l[choice_l[0]]);
    color_button("choice2", climate_l[choice_l[1]]);
    color_button("choice3", climate_l[choice_l[2]]);
    color_button("choice4", climate_l[choice_l[3]]);
    color_button("choice5", climate_l[choice_l[4]]);
</script>

</body>
</html>